<div class="row">

    <!-- Jogos ---------------------------------------------------------------------------------------------------->

    <div class="col-md-6">

        <div class="panel panel-primary panel-loto">
            <div class="panel-heading">
                Lotofácil Jogos

                <span data-bind="visible: isLotoLoading" class="please-wait-r pull-right"><i>aguarde</i></span>
            </div>
            <div class="panel-body">

                <table class="table table-condensed">
                    <thead>
                    <tr>
                        <th width="1">Jogo</th>
                        <th>Números</th>
                    </tr>
                    </thead>
                    <tbody data-bind="foreach: paginator().getItems">
                    <tr data-bind="css: { 'info' : $parent.currentDraw() == $data }">
                        <td>
                            <span data-bind="text: draw, click: $parent.updateCurrentDraw"
                                  class="btn btn-sm btn-default">
                            </span>
                        </td>
                        <td class="numbers" data-bind="text: numbersStr"></td>
                    </tr>
                    </tbody>
                </table>

                <div>
                    <ul class="pager" data-bind="with: paginator">
                        <li class="previous" data-bind="css: { 'disabled' : ! canGoBack() } ">
                            <a class="withripple" href="javascript:void(0)" data-bind="click: goBack">← Voltar</a>
                        </li>
                        <li class="next" data-bind="css: { 'disabled' : ! canGoForward() } ">
                            <a class="withripple" href="javascript:void(0)" data-bind="click: goForward">Avançar →</a>
                        </li>
                    </ul>
                </div>

            </div>

        </div>

    </div>

    <!-- /Jogos ------------------------------------------------------------------------------------------------------->

    <div class="col-md-6">

        <!-- Jogo Atual ----------------------------------------------------------------------------------------------->

        <div class="panel panel-primary">
            <div class="panel-heading">Jogo Atual</div>
            <div class="panel-body">

                <div data-bind="with: currentDraw">
                    <div class="col-md-3">
                        <p>Jogo: <strong data-bind="text: draw"></strong></p>

                        <p>Sorteio: <strong data-bind="text: drawDate"></strong></p>
                    </div>
                    <div class="col-md-9">
                        <table class="table table-condensed">
                            <tr>
                                <th>#</th>
                                <!-- ko foreach: prizes -->
                                <td data-bind="text: $data[0]"></td>
                                <!-- /ko -->
                            </tr>
                            <tr>
                                <th>R$</th>
                                <!-- ko foreach: prizes -->
                                <td data-bind="text: $data[1]"></td>
                                <!-- /ko -->
                            </tr>
                        </table>

                    </div>
                </div>

                <table class="table table-bordered table-condensed">
                    <tbody>
                    <!-- ko foreach: { data: lotofacilGrid, as: 'row' } -->
                    <tr>
                        <!-- ko foreach: { data: row, as: 'col' } -->
                        <td data-bind="text: col,
                                        css: {
                                            'info' : $parents[1].isMissHit(col),
                                            'success' : $parents[1].isHit(col),
                                            'danger' : $parents[1].isWrongGuess(col)}" class="numbers-hit"></td>
                        <!-- /ko -->
                    </tr>
                    <!-- /ko -->
                    </tbody>
                </table>

            </div>

        </div>

        <!-- /Jogo Atual ---------------------------------------------------------------------------------------------->

        <!-- Minhas Apostas ------------------------------------------------------------------------------------------->

        <div class="alert alert-dismissible alert-warning" data-bind="visible: bets().length == 0">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong>Oh snap!</strong>
            Nenhuma aposta encontrada para o jogo.
        </div>

        <div class="panel panel-primary" data-bind="visible: bets().length > 0">
            <div class="panel-heading">
                <h3 class="panel-title">
                    Minhas Apostas

                    <div class="pull-right dropdown more-actions">
                        <a class="dropdown-toggle btn" data-toggle="dropdown" href="bootstrap-elements.html" data-target="#">
                            <i class="fa fa-ellipsis-v fa-1x"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#/loto/bets">Ver Apostas</a></li>
                        </ul>
                    </div>

                </h3>
            </div>
            <div class="panel-body" id="bets-body">

                <p>Acertos <span class="label label-success" data-bind="text: lotofacilHitsOk"></span></p>

                <div class="list-group" data-bind="visible: lotofacilHitsOk() >= 11">

                    <div class="list-group-item">
                        <div class="row-picture">
                            <img class="circle"
                                 src="img/prize.png"
                                 alt="lotofacil premio"/>
                        </div>
                        <div class="row-content">
                            <h4 class="list-group-item-heading">Uuuuuuhhhhhh \m/</h4>

                            <p class="list-group-item-text">
                                Você fez <strong data-bind="text: lotofacilHitsOk">11</strong> acertos
                                e ganhou R$ <strong data-bind="text: lotofacilCurrentPrize">4,00</strong>
                            </p>
                        </div>
                    </div>

                </div>

                <table class="table table-condensed table-responsive">
                    <tr>
                        <th></th>
                        <th>Owner</th>
                        <th>#</th>
                    </tr>

                    <!-- ko foreach: bets -->
                    <tr>
                        <td>
                            <!-- ko if: $parent.currentBet() == $data -->
                            <i class="fa fa-bookmark"></i>
                            <!-- /ko -->
                            <!-- ko if: $parent.currentBet() != $data -->
                            <a data-bind="click: $parent.updateCurrentBet" href="#/loto">
                                <i class="fa fa-bookmark-o"></i>
                            </a>
                            <!-- /ko -->
                        </td>
                        <td><a data-bind="text: $data.owner, attr: { href: '#/loto/bets/' + $data.owner }"></a></td>
                        <td><span data-bind="text: $data.numbers"></span></td>
                    </tr>
                    <!-- /ko -->

                </table>
            </div>

        </div>

        <!-- /Minhas Apostas ------------------------------------------------------------------------------------------>

    </div>

</div>